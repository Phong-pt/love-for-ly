/* Fonts: Dancing Script / Great Vibes / Satisfy */
:root {
  --pink-start: #ffb6c1;
  --pink-end: #ffe4e1;
  --hot-red: #ff3366;
  --night-start: #6a4c9c;
  --night-end: #f3c6e7;
  --text: #b0003a;
  --white: #ffffff;
  --shadow: rgba(0,0,0,0.1);
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: 'Dancing Script', 'Satisfy', 'Great Vibes', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--text);
  background: linear-gradient(135deg, var(--pink-start), var(--pink-end));
  overflow-x: hidden;
}
.app { min-height: 100vh; position: relative; }

.hero { text-align: center; padding: 48px 16px 8px; }
.title {
  font-size: 56px;
  color: var(--hot-red);
  text-shadow: 0 6px 16px rgba(255, 51, 102, 0.3);
  margin: 0 0 8px;
}
.title .sparkle { display: inline-block; animation: glow 3s ease-in-out infinite; cursor: default; }
.title .sparkle:hover { filter: drop-shadow(0 0 10px rgba(255, 51, 102, 0.7)); animation: heartbeat 1.2s ease-in-out infinite; }

.intro { max-width: 900px; margin: 0 auto 16px; font-size: 22px; line-height: 1.5; }

.controls { display: flex; gap: 12px; justify-content: center; margin-bottom: 24px; }
.btn {
  padding: 10px 16px;
  border-radius: 24px;
  border: none;
  background: var(--hot-red);
  color: var(--white);
  cursor: pointer;
  box-shadow: 0 6px 14px rgba(255, 51, 102, 0.3);
  transition: transform 0.15s ease, box-shadow 0.3s ease;
}
.btn:hover { transform: translateY(-1px); box-shadow: 0 10px 18px rgba(255, 51, 102, 0.4); }

.stage { position: relative; height: 380px; margin: 0 auto; max-width: 900px; border-radius: 16px; overflow: hidden; box-shadow: 0 12px 32px var(--shadow); }
.three-canvas { width: 100%; height: 100%; display: block; background: transparent; }
.three-fallback { position: absolute; inset: 0; display: grid; place-items: center; text-align: center; background: rgba(255,255,255,0.2); backdrop-filter: blur(3px); }
.lily-illus { font-size: 80px; }

.section-title { text-align: center; margin: 24px 0 8px; color: var(--hot-red); font-size: 32px; }
.timer { text-align: center; font-size: 20px; }
.motd-section .motd { text-align: center; font-size: 22px; }

.timeline-section { max-width: 960px; margin: 8px auto 48px; padding: 0 16px; }
.timeline { display: grid; gap: 16px; }
.memory-item { display: grid; grid-template-columns: 120px 1fr; gap: 12px; align-items: start; padding: 12px; background: rgba(255,255,255,0.5); border-radius: 12px; box-shadow: 0 6px 16px var(--shadow); opacity: 0; transform: translateY(12px); animation: fadeIn 0.6s forwards; }
.memory-date { font-weight: 600; }
.memory-title { margin: 4px 0; font-size: 22px; color: var(--hot-red); }
.memory-desc { margin: 6px 0 0; }
.memory-photo { width: 100%; max-height: 220px; object-fit: cover; border-radius: 10px; box-shadow: 0 8px 16px var(--shadow); }
.memory-media { grid-column: 1 / -1; }
.memory-item:hover { outline: 2px solid rgba(255,51,102,0.3); box-shadow: 0 10px 24px rgba(255, 51, 102, 0.25); }

.add-memory { margin-top: 16px; }
.add-memory summary { cursor: pointer; }
.form-row { display: grid; gap: 6px; margin: 8px 0; }
.form-row input, .form-row textarea { padding: 10px 12px; border-radius: 10px; border: 1px solid #ffd1dc; box-shadow: inset 0 1px 2px rgba(0,0,0,0.05); }

.chatbot { position: fixed; right: 16px; bottom: 16px; z-index: 50; }
.chat-bubble { width: 52px; height: 52px; border-radius: 50%; border: none; font-size: 20px; background: var(--hot-red); color: var(--white); box-shadow: 0 8px 18px rgba(255,51,102,0.4); cursor: pointer; }
.chat-panel { position: absolute; right: 0; bottom: 64px; width: 320px; max-height: 420px; background: rgba(255,255,255,0.9); backdrop-filter: blur(6px); border-radius: 16px; box-shadow: 0 14px 36px rgba(0,0,0,0.15); display: grid; grid-template-rows: auto 1fr auto; overflow: hidden; }
.chat-header { padding: 10px 12px; background: var(--hot-red); color: var(--white); font-weight: 700; }
.chat-log { padding: 10px; overflow: auto; display: grid; gap: 8px; }
.msg { padding: 8px 10px; border-radius: 12px; max-width: 85%; box-shadow: 0 4px 12px var(--shadow); }
.msg.user { justify-self: end; background: #ffe0e8; }
.msg.bot { justify-self: start; background: #fff; }
.chat-form { display: grid; grid-template-columns: 1fr auto; gap: 8px; padding: 8px; }
.chat-form input { padding: 10px 12px; border-radius: 20px; border: 1px solid #ffd1dc; }

.heart-layer { position: fixed; inset: 0; pointer-events: none; overflow: hidden; z-index: 10; }
.heart { position: absolute; color: var(--hot-red); opacity: 0.9; transform: translate(-50%, -50%); animation: floatUp 1.4s ease-out forwards; }

/* removed special popup */

/* Night mode */
body.night {
  color: #3b1b4a;
  background: radial-gradient(1000px 600px at 50% -100px, #f8d9f0 0%, transparent 60%),
              linear-gradient(135deg, var(--night-start), var(--night-end));
}
.stars { position: absolute; inset: 0; pointer-events: none; background-image: radial-gradient(2px 2px at 20% 30%, #fff, rgba(255,255,255,0)), radial-gradient(2px 2px at 80% 50%, #fff, rgba(255,255,255,0)), radial-gradient(2px 2px at 40% 80%, #fff, rgba(255,255,255,0)); opacity: 0; transition: opacity .6s; }
body.night .stars { opacity: 0.7; }

/* Animations */
@keyframes glow { 0%,100%{ filter: drop-shadow(0 0 0px rgba(255,51,102,0.0)); } 50%{ filter: drop-shadow(0 0 10px rgba(255,51,102,0.5)); } }
@keyframes heartbeat {
  0% { transform: scale(1); }
  14% { transform: scale(1.12); }
  28% { transform: scale(1); }
  42% { transform: scale(1.12); }
  70% { transform: scale(1); }
}
@keyframes fadeIn { to { opacity: 1; transform: translateY(0); } }
@keyframes floatUp { 0%{ transform: translate(-50%, -20%); opacity: 0; } 10%{ opacity: 1; } 100% { transform: translate(-50%, -180%); opacity: 0; } }

/* Utilities */
.hidden { display: none !important; }

